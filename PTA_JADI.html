<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sistem Pengurusan Komputer & Pencetak</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <style>
        .page {
            display: none; /* Sembunyikan semua halaman secara lalai */
            padding: 20px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-top: 20px;
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .page.active {
            display: block; /* Tunjukkan halaman yang aktif sahaja */
        }
        .form-select, .form-control {
            margin-bottom: 15px;
        }
        .btn-custom {
            margin-top: 10px;
        }
        .container {
            max-width: 700px; /* Hadkan lebar untuk reka bentuk yang lebih baik */
        }
        /* Tambah CSS untuk penanda ralat yang lebih jelas (jika perlu) */
        .is-invalid {
            border-color: #dc3545 !important;
        }
    </style>
</head>
<body class="bg-light">

<div class="container py-4">

    <div class="text-center mb-4">
        <img src="Logo_KV.jpg" alt="Logo Kolej Vokasional Pasir Mas" class="img-fluid rounded shadow" style="max-height: 150px;">
        <h1 class="text-black">PEMBANGUNAN SISTEM PENGURUSAN PENGGUNAAN KOMPUTER DAN PENCETAK MENGGUNAKAN KOD QR OLEH PELAJAR ASRAMA DI CYBER CAFE ASRAMA KOLEJ VOKASIONAL PASIR MAS.</h1>
    </div>

    <div class="page active" id="page1">
        <h2 class="text-secondary mb-3">1. Maklumat Pengguna</h2>
        
        <label for="kediaman" class="form-label">Kediaman:<span class="text-danger">*</span></label>
        <select id="kediaman" class="form-select" required>
            <option value="">--Pilih--</option>
            <option value="Aspura">Aspura</option>
            <option value="Aspuri">Aspuri</option>
        </select>

        <label for="nama" class="form-label">Nama Penuh:<span class="text-danger">*</span></label>
        <input type="text" id="nama" class="form-control" placeholder="Isi Nama Penuh" required>
        
        <label for="tahun" class="form-label">Tahun Pengajian:<span class="text-danger">*</span></label>
        <select id="tahun" class="form-select" required>
            <option value="">--Pilih--</option>
            <option value="DVM">DVM</option>
            <option value="SVM">SVM</option>
        </select>

        <label for="kelas" class="form-label">Kelas:<span class="text-danger">*</span></label>
        <select id="kelas" class="form-select" required>
            <option value="">--Pilih--</option>
            <option value="BPP">BPP</option>
            <option value="BPR">BPR</option>
            <option value="BKP1">BKP1</option>
            <option value="BKP2">BKP2</option>
            <option value="BPM">BPM</option>
            <option value="KSK1">KSK1</option>
            <option value="KSK2">KSK2</option>
        </select>

        <button onclick="validatePage1()" class="btn btn-primary w-100 btn-custom">Seterusnya ‚û°Ô∏è</button>
    </div>

    <div class="page" id="page2">
        <h2 class="text-secondary mb-3">2. Pilih Tujuan</h2>
        
        <label for="tujuan" class="form-label">Tujuan Penggunaan:</label>
        <select id="tujuan" class="form-select">
            <option value="">--Pilih Tujuan--</option>
            <option value="Print">Print</option>
            <option value="Penggunaan Komputer">Penggunaan Komputer</option>
            <option value="Lain-lain">Lain-lain</option>
        </select>
        
        <input type="text" id="lainTujuan" class="form-control" placeholder="Nyatakan tujuan lain" style="display:none;">
        
        <div class="d-flex justify-content-between mt-4">
            <button onclick="nextPage(1)" class="btn btn-secondary btn-custom">‚¨ÖÔ∏è Kembali</button>
            <button onclick="prosesTujuan()" class="btn btn-primary btn-custom">Seterusnya ‚û°Ô∏è</button>
        </div>
    </div>

    <div class="page" id="page3">
        <h2 class="text-secondary mb-3">3. Cara Pembayaran </h2>
        
        <label for="bayaran" class="form-label">Pilih Cara Pembayaran:</label>
        <select id="bayaran" class="form-select" onchange="pilihBayaran()">
            <option value="">--Pilih Cara Pembayaran--</option>
            <option value="Tunai">Tunai</option>
            <option value="QR">Imbas Kod QR</option>
        </select>

        <div id="qrSection" class="text-center p-3 mt-3 border rounded bg-warning-subtle" style="display:none;">
            <h3>Imbas QR</h3>
            <img src="qr.jpg" alt="QR Bank" class="img-fluid mt-2" style="max-height: 200px;">
            <p class="mt-2 text-danger">Sila pastikan pembayaran telah selesai sebelum menghantar.</p>
        </div>

        <div class="d-flex justify-content-between mt-4">
            <button onclick="nextPage(2)" class="btn btn-secondary btn-custom">‚¨ÖÔ∏è Kembali</button>
            <button onclick="nextPage(4)" class="btn btn-success btn-custom">Hantar Maklumat ‚úÖ</button>
        </div>
    </div>

    <div class="page text-center" id="page4">
        <h2 class="text-success mb-4">üéâ Berjaya!</h2>
        <p class="lead">Maklumat anda telah dihantar.</p>
        <p class="text-muted">Terima kasih kerana menggunakan sistem ini.</p>
        
        <button onclick="resetForm()" class="btn btn-info btn-lg mt-3">Isi Semula</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script>
    // FUNGSI BARU: Mengesahkan Input Muka Surat 1
    function validatePage1() {
        const kediaman = document.getElementById('kediaman').value;
        const nama = document.getElementById('nama').value.trim();
        const tahun = document.getElementById('tahun').value;
        const kelas = document.getElementById('kelas').value;

        let isValid = true;

        // Reset ralat
        document.querySelectorAll('#page1 .form-select, #page1 .form-control').forEach(el => el.classList.remove('is-invalid'));

        // Semakan Kediaman
        if (kediaman === '') {
            document.getElementById('kediaman').classList.add('is-invalid');
            isValid = false;
        }

        // Semakan Nama
        if (nama === '') {
            document.getElementById('nama').classList.add('is-invalid');
            isValid = false;
        }

        // Semakan Tahun
        if (tahun === '') {
            document.getElementById('tahun').classList.add('is-invalid');
            isValid = false;
        }

        // Semakan Kelas
        if (kelas === '') {
            document.getElementById('kelas').classList.add('is-invalid');
            isValid = false;
        }

        if (isValid) {
            nextPage(2); // Jika semua sah, terus ke Muka Surat 2
        } else {
            alert("Sila lengkapkan semua medan Maklumat Pengguna yang bertanda (*) sebelum meneruskan.");
        }
    }

    // FUNGSI UTAMA: Navigasi Antara Halaman (Kekal)
    function nextPage(num) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('page' + num).classList.add('active');
        window.scrollTo(0, 0);
    }

    // Pendengar Peristiwa (Event Listener) untuk Tujuan Lain (Kekal)
    document.getElementById("tujuan").addEventListener("change", function(){
        const lain = document.getElementById("lainTujuan");
        lain.style.display = (this.value === "Lain-lain") ? "block" : "none";
    });

    // FUNGSI: Logik Selepas Memilih Tujuan (Kekal)
    function prosesTujuan() {
        const tujuan = document.getElementById("tujuan").value;
        if (tujuan === "Print") {
            nextPage(3); // Pergi ke Bayaran
        } else if (tujuan === "Penggunaan Komputer" || tujuan === "Lain-lain") {
            nextPage(4); // Terus ke Berjaya (tanpa Bayaran)
        } else {
            alert("Sila pilih Tujuan Penggunaan terlebih dahulu!");
        }
    }

    // FUNGSI: Logik Memilih Cara Pembayaran (Kekal)
    function pilihBayaran() {
        const value = document.getElementById("bayaran").value;
        document.getElementById("qrSection").style.display = value === "QR" ? "block" : "none";
    }

    // FUNGSI: Muat Semula Halaman (Isi Semula) (Kekal)
    function resetForm() {
        location.reload();
    }
</script>

</body>
</html>